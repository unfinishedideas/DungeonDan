[gd_scene load_steps=12 format=3 uid="uid://de1ikf3x1qj5m"]

[ext_resource type="Script" path="res://scripts/game_logic/SceneManager.cs" id="1_2jo1v"]
[ext_resource type="PackedScene" uid="uid://bn1o0e0w6iimt" path="res://scenes/characters/player.tscn" id="1_bbdvm"]
[ext_resource type="PackedScene" uid="uid://cjt1mg3hshqfo" path="res://scenes/misc/killzone.tscn" id="3_73n65"]
[ext_resource type="Material" uid="uid://iyo1dmlgvbw" path="res://assets/materials/metal01.tres" id="3_iblul"]
[ext_resource type="Material" uid="uid://cnqqgp7vgqmvr" path="res://assets/materials/brick01.tres" id="4_kkbfp"]
[ext_resource type="PackedScene" uid="uid://bct62c0lhwdkj" path="res://scenes/scenery/standing_torch.tscn" id="8_fq0xy"]
[ext_resource type="PackedScene" uid="uid://bxau1uefiu637" path="res://scenes/characters/enemy_blob.tscn" id="8_ugbbw"]
[ext_resource type="PackedScene" uid="uid://cveishbod8l0b" path="res://scenes/characters/FloatyGuy.tscn" id="9_q4u70"]

[sub_resource type="Environment" id="Environment_mkg4d"]
background_mode = 4
ambient_light_source = 2
ambient_light_color = Color(0.574328, 0.574328, 0.574328, 1)
ambient_light_energy = 0.12
reflected_light_source = 1
tonemap_mode = 3
tonemap_exposure = 2.0
tonemap_white = 8.0
sdfgi_enabled = true
glow_normalized = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.02
volumetric_fog_emission = Color(0.104862, 0.147372, 0.124452, 1)
volumetric_fog_anisotropy = 0.0

[sub_resource type="NavigationMesh" id="NavigationMesh_rf0kk"]
vertices = PackedVector3Array(-46.8625, 6.97994, 15.4249, -61.8625, 6.72994, 15.9249, -46.8625, 6.97994, 15.9249, 29.8875, 6.97994, 15.9249, 30.1375, 6.72994, 59.4249, 30.3875, 6.72994, 16.1749, 30.3875, 6.72994, -19.3251, 30.3875, 6.72994, -39.5751, 29.8875, 6.72994, -19.0751, -46.8625, 6.97994, 15.9249, -46.6125, 6.72994, 18.6749, -46.1125, 6.97994, 15.9249, -46.8625, 6.97994, 15.4249, 30.3875, 6.72994, 16.1749, 37.1375, 6.72994, 15.9249, 30.6375, 6.97994, 15.4249, 30.6375, 6.97994, -18.5751, 32.8875, 6.72994, -19.0751, 30.3875, 6.72994, -19.3251, 29.8875, 6.72994, -19.0751, -46.8625, 6.97994, -18.5751, -46.8625, 6.97994, 15.4249, -46.1125, 6.97994, 15.9249, 29.8875, 6.97994, 15.9249, 30.6375, 6.97994, -18.5751, 29.8875, 6.72994, -19.0751, 29.8875, 6.97994, 15.9249, 30.3875, 6.72994, 16.1749, 30.6375, 6.97994, 15.4249, 30.6375, 6.97994, -18.5751, 29.8875, 6.72994, -19.0751, -66.3625, 6.72994, -19.0751, -46.8625, 6.97994, -18.5751, -24.6125, 0.479941, -12.8251, -22.8625, 0.479941, -13.0751, -23.1125, 0.479941, -17.8251, -45.3625, 0.479941, -17.8251, -20.8625, 0.479941, -4.32515, -20.8625, 0.479941, -10.8251, -24.6125, 0.479941, -11.0751, -45.3625, 0.479941, -4.32515, -24.6125, 0.479941, -11.0751, -24.6125, 0.479941, -12.8251, -45.3625, 0.479941, -17.8251, -45.3625, 0.479941, -4.32515, -22.8625, 0.479941, -13.0751, 0.887512, 0.479941, -13.0751, 1.13751, 0.479941, -17.8251, -23.1125, 0.479941, -17.8251, 2.63751, 0.479941, 13.6749, 1.38751, 0.479941, 13.9249, 1.38751, 0.479941, 14.6749, 29.1375, 0.479941, 14.6749, 1.13751, 0.479941, -17.8251, 0.887512, 0.479941, -13.0751, 2.63751, 0.479941, -12.8251, 29.1375, 0.479941, -17.8251, 2.63751, 0.479941, -12.8251, 2.63751, 0.479941, 13.6749, 29.1375, 0.479941, 14.6749, 29.1375, 0.479941, -17.8251, -18.8625, 0.479941, -2.07515, -20.6125, 0.479941, -2.07515, -20.6125, 0.479941, 2.17485, -18.6125, 0.479941, 2.42485, -18.6125, 0.479941, 2.42485, -18.6125, 0.479941, 4.17485, 0.387512, 0.479941, 11.6749, -18.6125, 0.479941, -4.07515, -18.8625, 0.479941, -2.07515, -18.6125, 0.479941, 2.42485, 0.387512, 0.479941, 11.6749, 0.387512, 0.479941, -10.8251, -20.8625, 0.479941, -10.8251, -20.8625, 0.479941, -4.32515, -18.6125, 0.479941, -4.07515, 0.387512, 0.479941, -10.8251, -18.6125, 0.479941, 4.17485, -20.3625, 0.479941, 4.42485, -20.1125, 0.479941, 11.6749, 0.387512, 0.479941, 11.6749, -20.6125, 0.479941, 2.17485, -20.6125, 0.479941, -2.07515, -45.3625, 0.479941, -2.07515, -45.3625, 0.479941, 2.17485, -24.3625, 0.479941, 11.6749, -20.1125, 0.479941, 11.6749, -20.3625, 0.479941, 4.42485, -24.3625, 0.479941, 11.6749, -20.3625, 0.479941, 4.42485, -45.3625, 0.479941, 4.42485, -45.3625, 0.479941, 14.6749, 1.38751, 0.479941, 14.6749, 1.38751, 0.479941, 13.9249, -24.6125, 0.479941, 13.6749, -45.3625, 0.479941, 14.6749, -24.6125, 0.479941, 13.6749, -24.3625, 0.479941, 11.6749, -45.3625, 0.479941, 14.6749)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(8, 7, 6), PackedInt32Array(12, 11, 9), PackedInt32Array(9, 11, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(23, 20, 25), PackedInt32Array(23, 25, 24), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(32, 31, 30), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(38, 37, 39), PackedInt32Array(39, 37, 40), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(45, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 52), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(58, 57, 59), PackedInt32Array(59, 57, 60), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 64), PackedInt32Array(67, 66, 65), PackedInt32Array(69, 68, 70), PackedInt32Array(70, 68, 72), PackedInt32Array(70, 72, 71), PackedInt32Array(74, 73, 75), PackedInt32Array(75, 73, 76), PackedInt32Array(78, 77, 79), PackedInt32Array(79, 77, 80), PackedInt32Array(84, 83, 81), PackedInt32Array(81, 83, 82), PackedInt32Array(87, 86, 85), PackedInt32Array(91, 90, 88), PackedInt32Array(88, 90, 89), PackedInt32Array(93, 92, 94), PackedInt32Array(94, 92, 95), PackedInt32Array(98, 97, 96)]

[sub_resource type="BoxShape3D" id="BoxShape3D_1gwhi"]
size = Vector3(1000, 1, 1000)

[node name="World" type="Node"]
script = ExtResource("1_2jo1v")

[node name="Player" parent="." instance=ExtResource("1_bbdvm")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -43.7872, 1.17823, 0.388952)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_mkg4d")

[node name="Geometry" type="Node3D" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Geometry"]
navigation_mesh = SubResource("NavigationMesh_rf0kk")

[node name="Floors" type="Node3D" parent="Geometry/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.03794)

[node name="ground_01" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Floors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.15152, -0.520059, -3.38979)
use_collision = true
size = Vector3(78.105, 1, 34.464)
material = ExtResource("3_iblul")

[node name="ground_02" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Floors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.15152, 5.99606, -3.38979)
use_collision = true
size = Vector3(78.105, 1, 34.464)
material = ExtResource("3_iblul")

[node name="Walls" type="Node3D" parent="Geometry/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.03794)

[node name="wall_01" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -46.4726, 3.05022, -2.08771)
use_collision = true
size = Vector3(1, 6.67, 38.175)
material = ExtResource("4_kkbfp")

[node name="wall_07" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -12.2616, 3.05022, 13.8679)
use_collision = true
size = Vector3(1, 6.67, 100)
material = ExtResource("4_kkbfp")

[node name="wall_08" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 30.3335, 3.05022, 7.88691)
use_collision = true
size = Vector3(1, 6.67, 100)
material = ExtResource("4_kkbfp")

[node name="wall_09" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -16.8625, 3.05022, -20.9501)
use_collision = true
size = Vector3(1, 6.67, 100)
material = ExtResource("4_kkbfp")

[node name="wall_02" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -32.8802, 3.05022, -5.30928)
use_collision = true
size = Vector3(1, 6.67, 27.07)
material = ExtResource("4_kkbfp")

[node name="wall_03" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -32.8802, 3.05022, 1.22386)
use_collision = true
size = Vector3(1, 6.67, 27.07)
material = ExtResource("4_kkbfp")

[node name="wall_04" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5247, 3.05022, -1.6948)
use_collision = true
size = Vector3(1, 6.67, 25.7)
material = ExtResource("4_kkbfp")

[node name="wall_05" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -11.174, 3.05022, -13.9687)
use_collision = true
size = Vector3(1, 6.67, 25.7)
material = ExtResource("4_kkbfp")

[node name="wall_06" type="CSGBox3D" parent="Geometry/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -11.174, 3.05022, 10.6641)
use_collision = true
size = Vector3(1, 6.67, 25.7)
material = ExtResource("4_kkbfp")

[node name="Lights" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.592903, 0.0794015, 2.08754)

[node name="Torches" type="Node3D" parent="Lights"]

[node name="standing_torch" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.0537, -0.0994606, -5.27248)

[node name="standing_torch2" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.0537, -0.0994606, 0.963296)

[node name="standing_torch3" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.169022, -0.0994606, 8.69887)

[node name="standing_torch4" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.169022, -0.0994606, -12.2792)

[node name="standing_torch5" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.5945, -0.0994606, -10.1593)

[node name="standing_torch6" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.5945, -0.0994606, -0.323946)

[node name="standing_torch7" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.5945, -0.0994606, -19.0102)

[node name="standing_torch9" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.48985, -0.0994606, -1.54685)

[node name="standing_torch8" parent="Lights/Torches" instance=ExtResource("8_fq0xy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.5945, -0.0994606, 10.8521)

[node name="Omnis" type="Node3D" parent="Lights"]

[node name="OmniLight3D_01" type="OmniLight3D" parent="Lights/Omnis"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.1902, 3.66298, -2.07482)
light_color = Color(0.949266, 0.671187, 0.353374, 1)
omni_range = 58.994

[node name="OmniLight3D_02" type="OmniLight3D" parent="Lights/Omnis"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -43.9254, 2.70495, 11.7167)
light_color = Color(0.949266, 0.671187, 0.353374, 1)
omni_range = 58.994

[node name="OmniLight3D_03" type="OmniLight3D" parent="Lights/Omnis"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45.8681, 2.70495, -16.2891)
light_color = Color(0.949266, 0.671187, 0.353374, 1)
omni_range = 58.994

[node name="Enemies" type="Node3D" parent="."]

[node name="Killzone" parent="." instance=ExtResource("3_73n65")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -12.8382, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Killzone"]
shape = SubResource("BoxShape3D_1gwhi")

[node name="Monsters" type="Node3D" parent="."]

[node name="EnemyBlob" parent="Monsters" instance=ExtResource("8_ugbbw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.2068, 0.525936, -6.54056)

[node name="CharacterBody3D" parent="." instance=ExtResource("9_q4u70")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -4.05238, 1.51336, -2.69381)

[connection signal="Quit" from="Player" to="." method="_on_player_quit"]
